# Amayo Bot ‚Äî Gu√≠a de Comandos para Discord

> Nota: Para crear y editar Items, Mobs, √Åreas, Niveles y Ofertas con los editores interactivos, consulta la gu√≠a: [CREACION_DE_CONTENIDO.md](./CREACION_DE_CONTENIDO.md)

Bienvenido/a. Aqu√≠ tienes una gu√≠a lista para pegar en tu servidor de Discord con todos los comandos disponibles y lo que hacen.

- Prefix por defecto: `!` (puede cambiarse con `!configuracion`)
- Ayuda en Discord: `!ayuda`, `!ayuda <comando>`, `!ayuda <categor√≠a>`
- Algunos comandos requieren permisos de Administrador; est√°n marcados.

## Comandos por categor√≠a

### IA
- `!ai <mensaje>`
  - Aliases: `!chat`, `!gemini`
  - Qu√© hace: Chatea con la IA (Gemini) directamente desde Discord.
  - Ejemplo: `!ai ¬øC√≥mo funciona JavaScript?`

### Utilidad
- `!ayuda [comando|categor√≠a]`
  - Aliases: `!help`, `!comandos`, `!cmds`
  - Qu√© hace: Muestra la lista de comandos y detalles por categor√≠a. Si pasas un nombre de comando o categor√≠a, filtra el resultado.

### Red
- `!ping`
  - Aliases: `!latency`, `!pong`
  - Qu√© hace: Verifica la latencia y que el bot est√© respondiendo.

### Configuraci√≥n (Admin)
- `!configuracion`
  - Aliases: `!config`, `!ajustes`, `!settings`
  - Qu√© hace: Abre el panel de configuraci√≥n del servidor (por ejemplo, cambiar el prefix).
  - Permisos: Requiere Administrador.

### Administraci√≥n (Owner)
- `!admin-comandos`
  - Aliases: `!cmdadmin`, `!synccommands`, `!comandos-admin`
  - Qu√© hace: Panel del due√±o para registrar/limpiar comandos slash y revisar memoria.
  - Permisos: Solo propietario del bot.

### Alianzas (Gesti√≥n de bloques y canales) ‚Äî Admin
Bloques (presentaciones/embeds avanzados con Display Components):
- `!crear-embed <nombre>`
  - Aliases: `!embed-crear`, `!nuevo-embed`, `!blockcreatev2`
  - Qu√© hace: Crea un bloque/embedded nuevo con editor interactivo.
  - Permisos: Administrador.
- `!editar-embed <nombre>`
  - Aliases: `!embed-editar`, `!modificar-embed`, `!blockeditv2`
  - Qu√© hace: Edita un bloque/embedded existente con herramientas interactivas.
  - Permisos: Administrador.
- `!lista-embeds`
  - Aliases: `!embeds`, `!ver-embeds`, `!embedlist`
  - Qu√© hace: Lista los bloques existentes con paginaci√≥n y acciones r√°pidas.
  - Permisos: Administrador.
- `!eliminar-embed`
  - Aliases: `!embed-eliminar`, `!borrar-embed`, `!embeddelete`
  - Qu√© hace: Panel interactivo para eliminar bloques de forma segura.
  - Permisos: Administrador.

Canales de alianza (puntos por enlaces v√°lidos, etc.):
- `!canal-alianza`
  - Aliases: `!alchannel`, `!channelally`
  - Qu√© hace: Abre el centro de configuraci√≥n para asignar un bloque a un canal de texto y activarlo.
  - Permisos: Administrador.
- `!listar-canales-alianza`
  - Aliases: `!listchannels-alliance`, `!listalchannel`, `!channelsally`, `!alliancechannels`
  - Qu√© hace: Muestra los canales de alianza configurados con estado y estad√≠sticas.
  - Permisos: Administrador recomendado.
- `!eliminar-canal-alianza`
  - Aliases: `!removechannel-alliance`, `!removealchannel`, `!delalchannel`
  - Qu√© hace: Elimina la configuraci√≥n de alianza de un canal seleccionado (mantiene historial).
  - Permisos: Administrador.

Demostraci√≥n/ejemplos:
- `!displaydemo`
  - Aliases: `!ddemo`, `!componentsdemo`
  - Qu√© hace: Demostraci√≥n de Display Components con accesorios y acciones.
  - Permisos: Administrador.
- `!test1`
  - Qu√© hace: Mensaje de ejemplo de componentes/embeds (demo interna).

### Slash commands
- `/ping`
  - Qu√© hace: Responde con ‚Äúpong!‚Äù (prueba r√°pida de slash).

## Consejos r√°pidos
  - Puede requerir permisos de Administrador o ser solo del due√±o.
  - Aseg√∫rate de usarlo en un canal de texto compatible.
  - Escribe `!ayuda <comando>` para ver el uso correcto.

## Bloque listo para copiar y pegar en tu server

Copia todo este bloque y p√©galo en tu canal de informaci√≥n o bienvenida.

```
## Sistema RPG (Beta)

El bot incluye un sistema RPG ligero con progreso persistente y combate simplificado.

### Conceptos Clave
- **HP Persistente:** Tu vida (HP) se mantiene entre actividades. Si llegas a 0 en combate, resurges autom√°ticamente al 50% de tu m√°ximo (regeneraci√≥n de seguridad) y se incrementa `Veces Derrotado`.
- **Rachas de Victoria:** Cada 3 victorias consecutivas obtienes +1% de da√±o (hasta +30%). Al perder, la racha se reinicia.
- **Herramientas con Durabilidad por Instancia:** Las herramientas no apilables crean instancias independientes; cada uso consume durabilidad de una instancia. Al agotarse una instancia, desaparece solo esa (si quedan otras, se siguen usando). Cuando la √∫ltima instancia se rompe, el √≠tem queda completamente agotado.
- **Origen de Herramienta:** El sistema selecciona herramienta en este orden: (1) la que pases directamente (argumento), (2) la equipada (slot apropiado), (3) la mejor del inventario. El comando mostrar√° su procedencia (`toolSource`).
- **Combate Simplificado:** Se simulan rondas contra mobs; se registra da√±o infligido/recibido, mobs derrotados y resultado (Victoria/Derrota).
- **Resumen Visual:** Corazones (‚ù§/‚ô°) y barra de durabilidad reflejan estado tras cada acci√≥n.

### Comandos RPG Principales
- `!mina [nivel] [toolKey]` ‚Äî Minar (usa pico).
- `!pescar [nivel] [toolKey]` ‚Äî Pescar (usa ca√±a).
- `!pelear [nivel] [toolKey]` ‚Äî Combatir (usa espada).
- `!combate-historial [n]` ‚Äî √öltimos combates resumidos.
- `!tool-breaks [n]` ‚Äî Rupturas recientes de herramientas (memoria).
- (Opcional futuro) `!tool-info <toolKey>` ‚Äî Ver instancias y durabilidad.

### Estad√≠sticas (PlayerStats)
Se actualizan autom√°ticamente:
- Actividades: `minesCompleted`, `fishingCompleted`, `fightsCompleted`.
- Combate: `mobsDefeated`, `damageDealt`, `damageTaken`, `timesDefeated`, `currentWinStreak`, `longestWinStreak`.

### Estructura de Resultados
Cada minijuego produce un `RunResult` con bloque `tool` (incluye `toolSource`, `brokenInstance`, `instancesRemaining`) y, si aplica, `combat` con:
- `playerStartHp`, `playerEndHp`, `outcome`, `damageDealt`, `damageTaken`, `mobsDefeated`.

### Pr√≥ximas Mejoras Planeadas
- Tabla persistente de rupturas (`ToolBreakLog`).
- Definiciones avanzadas de mobs (stats din√°micos, efectos cr√≠ticos, resistencias).
- Efectos de equipo: cr√≠ticos, sangrado, bloqueo, robo de vida.
- Consumo de pociones en combate y estados alterados.
- Eventos programados (ataques globales de mobs) v√≠a funciones externas (Appwrite / cron).

### Notas T√©cnicas
- HP y maxHp: `PlayerState` + bonificaciones de equipo.
- Racha: c√°lculo en `getEffectiveStats()` (1% cada 3 victorias, tope 30%).
- Durabilidad: l√≥gica por instancia en `reduceToolDurability` (remueve instancia agotada).
- Combate: loop interno en servicio de minijuegos actualiza da√±o y resultado, persistiendo HP final.
- Logs: Rupturas se guardan en memoria (buffer circular) para inspecci√≥n r√°pida.

> Esta secci√≥n est√° en evoluci√≥n: puede cambiar estructura interna para soportar mobs declarativos y balance m√°s profundo.

üìå Amayo Bot ‚Äî Gu√≠a R√°pida de Comandos
Prefix: ! (puedes cambiarlo con !configuracion)

IA
‚Ä¢ !ai <mensaje> ‚Äî Chatea con la IA (aliases: !chat, !gemini)

Utilidad
‚Ä¢ !ayuda [comando|categor√≠a] ‚Äî Lista y detalles de comandos

Red
‚Ä¢ !ping ‚Äî Prueba de latencia

Configuraci√≥n (Admin)
‚Ä¢ !configuracion ‚Äî Panel de ajustes del servidor

Alianzas (Admin)
‚Ä¢ !crear-embed <nombre> ‚Äî Crear bloque interactivo
‚Ä¢ !editar-embed <nombre> ‚Äî Editar bloque
‚Ä¢ !lista-embeds ‚Äî Ver bloques
‚Ä¢ !eliminar-embed ‚Äî Eliminar bloques
‚Ä¢ !canal-alianza ‚Äî Configurar canal
‚Ä¢ !listar-canales-alianza ‚Äî Ver configurados
‚Ä¢ !eliminar-canal-alianza ‚Äî Eliminar canal de la configuraci√≥n
‚Ä¢ !displaydemo ‚Äî Demo de componentes

Slash
‚Ä¢ /ping ‚Äî Pong!

M√°s ayuda: !ayuda | !ayuda <comando> | !ayuda <categor√≠a>
```
